# Introduction
다음 규칙을 준수하십시오.

- 평가 과정 전반에 걸쳐 예의 바르고 정중하며 건설적으로 유지하십시오. 커뮤니티의 안녕은 이에 달려 있습니다.

- 학생 또는 그룹의 작업에서 발견된 가능한 문제를 식별하십시오. 발견된 문제에 대해 논의하고 토론하는 데 시간을 할애하십시오.
- 동료들이 프로젝트 지침과 기능 범위를 어떻게 이해했을지에는 차이가 있을 수 있음을 고려하십시오. 항상 개방적인 마음을 유지하고 가능한 정직하게 평가하십시오. 피어 평가가 진지하게 이루어져야만 교육이 유익합니다.
# Guidelines
- 평가 대상 학생 또는 그룹의 Git 저장소에 제출된 작업만을 평가하십시오.

- Git 저장소가 학생(들)에게 속해 있는지 반드시 확인하십시오. 프로젝트가 예상대로인지 확인하십시오. 또한 'git clone'이 빈 폴더에서 사용되었는지 확인하십시오.
- 의도적인 악의적인 alias가 사용되지 않았는지 주의 깊게 확인하십시오.
- 놀라운 일을 피하기 위해 그리고 적용 가능한 경우, 채점을 용이하게 하는 데 사용된 스크립트를 함께 검토하십시오 (테스트 또는 자동화를 위한 스크립트).
- 평가할 과제를 완료하지 않은 경우, 평가 프로세스를 시작하기 전에 전체 주제를 읽어야 합니다.
- 빈 저장소, 작동하지 않는 프로그램, 규칙 오류, 부정 행위 등을 보고하기 위해 사용 가능한 플래그를 사용하십시오.     
이러한 경우, 평가 프로세스는 종료되고 최종 학점은 0이거나 부정 행위의 경우 -42입니다. 그러나 부정 행위를 제외하고, 학생들은 미래에 반복해서는 안 되는 실수를 식별하기 위해 함께 제출된 작업을 리뷰하는 것이 강력히 권장됩니다.

### Attachments
subject.pdf (https://cdn.intra.42.fr/pdf/pdf/28114/en.subject.pdf)

# Preliminaries
- 만약 부정 행위가 의심된다면, 여기서 평가를 중단하십시오. "Cheat" 플래그를 사용하여 신고하십시오. 이 결정을 신중하게 내리고 현명하게 사용해 주세요.

### Preliminary tests

- 평가 대상 학생 또는 그룹이 참석하는 경우에만 방어가 가능합니다. 이렇게 함으로써 모두가 서로 지식을 공유함으로써 학습합니다.

- 작업이 제출되지 않은 경우(또는 잘못된 파일, 잘못된 디렉토리 또는 잘못된 파일 이름), 학점은 0이되고 평가 프로세스가 종료됩니다.
- 이 프로젝트의 경우, 학생들의 Git 저장소를 자신의 스테이션에 복제해야 합니다
```
YES / NO
```
# General instructions
### General instructions
- 평가 프로세스 전체에서 요구 사항을 확인하거나 어떤 것을 검증하는 방법을 모르는 경우, 평가 대상 학생이 도움을 제공해야 합니다.

- 응용 프로그램을 구성하는 데 필요한 모든 파일이 srcs 폴더 내에 위치하는지 확인하십시오. srcs 폴더는 저장소의 루트에 위치해야 합니다.
- 저장소의 루트에 Makefile이 있는지 확인하십시오.
- 평가를 시작하기 전에 터미널에서 다음 명령을 실행하십시오:
  ```
  docker stop $(docker ps -qa); docker rm $(docker ps -qa);
  docker rmi -f $(docker images -qa); docker volume rm $(docker volume ls -q);
  docker network rm $(docker network ls -q) 2>/dev/null
  ```
- docker compose.yml 파일을 읽어보십시오. 'network: host' 또는 'links:'가 없어야 합니다. 그렇지 않으면 평가는 여기서 종료됩니다.
- docker compose.yml 파일을 읽어보십시오. 그 안에 'network(s)'가 있어야 합니다. 그렇지 않으면 평가는 여기서 종료됩니다.
- Makefile 및 Docker가 사용된 모든 스크립트를 검토하십시오. 어느 스크립트에도 '--link'가 있어서는 안 됩니다. 그렇지 않으면 평가는 여기서 종료됩니다.
- Dockerfiles을 검토하십시오. ENTRYPOINT 섹션에서 'tail -f' 또는 백그라운드에서 실행되는 다른 명령이 있는 경우 평가는 여기서 종료됩니다. 마찬가지로 'bash' 또는 'sh'가 사용되었지만 스크립트를 실행하는 용도가 아닌 경우 (예: 'nginx & bash' 또는 'bash'), 평가는 종료됩니다.
- Entrypoint가 스크립트인 경우 (예: ENTRYPOINT ["sh", "my_entrypoint.sh"], ENTRYPOINT ["bash", "my_entrypoint.sh"]), 해당 스크립트에서 백그라운드에서 프로그램을 실행하지 않는지 확인하십시오 (예: 'nginx & bash').
- 저장소의 모든 스크립트를 검토하십시오. 그 중에서 어떤 것도 무한 루프를 실행하지 않도록 확인하십시오.
  - 'sleep infinity', 'tail -f /dev/null', 'tail -f /dev/random'과 같은 명령어는 금지된 예시입니다.
- Makefile을 실행하십시오.
```
YES / NO
```
# Mandatory Part

이 프로젝트는 Docker compose를 사용하여 다양한 서비스로 구성된 작은 인프라를 설정하는 것입니다. 다음 모든 포인트가 올바른지 확인하십시오.
### Project overview

- 평가 대상은 다음에 대해 간단한 용어로 설명해야 합니다.:

	- Docker와 docker compose의 작동 방식

	- Docker 이미지가 docker compose와 함께 사용되는 경우와 그렇지 않은 경우의 차이
	- Docker의 이점과 가상 머신(VMs)과 비교했을 때의 이점
	- 이 프로젝트에서 필요한 디렉토리 구조의 타당성 (과제 PDF 파일에 예제가 제공됨).

```
YES / NO
```
### Simple setup

- NGINX가 포트 443에서만 액세스할 수 있는지 확인하십시오. 완료되면 페이지를 엽니다.

- SSL/TLS 인증서가 사용되었는지 확인하십시오.
- WordPress 웹 사이트가 올바르게 설치되고 구성되었는지 확인하십시오 (WordPress 설치 페이지를 볼 수 없어야 함). 브라우저에서 https://login.42.fr 을 열어보면 됩니다. 여기서 login은 평가 대상 학생의 로그인입니다. http://login.42.fr 을 통해 사이트에 액세스할 수 없어야 합니다.
- 만약 예상대로 작동하지 않는 경우, 평가 프로세스는 여기서 종료됩니다.
```
YES / NO
```
### Docker basics
- Dockerfiles을 확인하여 시작하십시오. 각 서비스당 하나의 Dockerfile이 있어야 합니다. Dockerfiles이 비어 있지 않은지 확인하십시오. 그렇지 않거나 Dockerfile이 누락된 경우 평가 프로세스가 여기서 종료됩니다.

- 평가 대상 학생이 자체 Dockerfiles을 작성하고 자체 Docker 이미지를 빌드했는지 확인하십시오. 사전 제작된 Docker 이미지를 사용하거나 DockerHub와 같은 서비스를 사용하는 것은 금지되어 있습니다.
- 각 컨테이너가 알파인 리눅스의 이전 안정 버전이나 Debian Buster에서 빌드되었는지 확인하십시오. Dockerfile이 'FROM alpine' 또는 'FROM debian:buster'로 시작하지 않는 경우 또는 다른 로컬 이미지로 시작하지 않는 경우 평가 프로세스가 여기서 종료됩니다.
- Docker 이미지는 해당 서비스와 동일한 이름을 가져야 합니다. 그렇지 않으면 평가 프로세스가 여기서 종료됩니다.
- Makefile이 docker compose를 통해 모든 서비스를 설정했는지 확인하십시오. 이는 컨테이너가 docker compose를 사용하여 빌드되었으며 어떤 충돌도 발생하지 않았어야 한다는 것을 의미합니다. 그렇지 않으면 평가 프로세스가 종료됩니다.
```
YES / NO
```
### Docker network
- docker compose.yaml 파일을 확인하여 docker-network가 사용되는지 확인하십시오. 그런 다음 'docker network ls' 명령을 실행하여 네트워크가 표시되는지 확인하십시오.

- 평가 대상 학생은 docker-network에 대한 간단한 설명을 제공해야 합니다. 위의 어떤 항목이라도 올바르지 않은 경우, 평가 프로세스가 여기서 종료됩니다.
```
YES / NO
```
### NGINX with SSL/TLS
- Dockerfile이 있는지 확인하십시오.

- 'docker compose ps' 명령을 사용하여 컨테이너가 생성되었는지 확인하십시오 (필요한 경우 '-p' 플래그 사용이 허용됨).
- http(포트 80)를 통해 서비스에 액세스를 시도하고 연결할 수 없는지 확인하십시오.
- 브라우저에서 https://login.42.fr/ 을 열어보십시오. 여기서 login은 평가 대상 학생의 로그인입니다. 표시된 페이지는 구성된 WordPress 웹 사이트여야 합니다 (WordPress 설치 페이지를 볼 수 없어야 함). TLS v1.2/v1.3 인증서의 사용이 필수이며 이를 증명해야 합니다. SSL/TLS 인증서가 인증되지 않아도 됩니다. 자체 서명된 인증서 경고가 나타날 수 있습니다.
- 위의 어떤 항목이라도 명확하게 설명되지 않거나 올바르지 않은 경우, 평가 프로세스가 여기서 종료됩니다.
```
YES / NO
```
### WordPress with php-fpm and its volume
- Dockerfile이 있는지 확인하십시오.

- Dockerfile에 NGINX가 없는지 확인하십시오.
- 'docker compose ps' 명령을 사용하여 컨테이너가 생성되었는지 확인하십시오 (필요한 경우 '-p' 플래그 사용이 허용됨).
- 볼륨이 있는지 확인하십시오. 다음과 같이 수행하십시오.
  ```
  docker volume ls
  docker volume inspect <volume-name>
  ```
  결과의 표준 출력에 '/home/login/data/' 경로가 포함되어 있는지 확인하십시오. 여기서 login은 평가 대상 학생의 로그인입니다.
- 사용 가능한 워드프레스 사용자를 사용하여 댓글을 추가할 수 있는지 확인하십시오.
- 관리자 계정으로 로그인하여 관리 대시보드에 액세스하십시오. 관리자 사용자 이름에 'admin' 또는 'Admin'이 포함되어 있으면 안 됩니다 (예: admin, administrator, Admin-login, admin-123 등).
- 관리 대시보드에서 페이지를 편집하십시오. 웹 사이트에서 페이지가 업데이트되었는지 확인하십시오.
  위의 어떤 항목이라도 올바르지 않은 경우, 평가 프로세스가 여기서 종료됩니다.
```
YES / NO
```

### MariaDB and its volume
- Dockerfile이 있는지 확인하십시오.

- Dockerfile에 NGINX가 없는지 확인하십시오.
- 'docker compose ps' 명령을 사용하여 컨테이너가 생성되었는지 확인하십시오 (필요한 경우 '-p' 플래그 사용이 허용됨).
- 볼륨이 있는지 확인하십시오. 다음과 같이 수행하십시오.
  ```
  docker volume ls
  docker volume inspect <volume-name>
  ```
  결과의 표준 출력에 '/home/login/data/' 경로가 포함되어 있는지 확인하십시오. 여기서 login은 평가 대상 학생의 로그인입니다.
- 평가 대상 학생이 데이터베이스에 로그인하는 방법을 설명할 수 있어야 합니다. 루트로 로그인하지만 비밀번호는 없습니다. 로그인이 성공하면 평가 프로세스가 여기서 종료됩니다.
- 사용자 계정 및 해당 비밀번호로 SQL 데이터베이스에 로그인하려고 시도하고 데이터베이스가 비어 있지 않은지 확인하십시오.
  위의 어떤 항목이라도 올바르지 않은 경우, 평가 프로세스가 여기서 종료됩니다.
```
YES / NO
```
### Persistence!
- 이 부분은 매우 간단합니다. 가상 머신을 재부팅하십시오. 다시 시작된 후 docker compose를 실행하십시오. 그런 다음 모든 것이 정상적으로 작동하며 워드프레스와 MariaDB가 구성되어 있는지 확인하십시오. 이전에 워드프레스 웹 사이트에 대한 변경 내용이 여전히 유지되어 있어야 합니다. 위의 어떤 항목이라도 올바르지 않은 경우, 평가 프로세스가 여기서 종료됩니다.
```
YES / NO
```